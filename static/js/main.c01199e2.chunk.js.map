{"version":3,"sources":["firebase/config.js","firebase/useFirestore.js","body/ImageGrid.js","body/Modal.js","body/Title.js","firebase/useStorage.js","body/ProgressBar.js","body/Upload.js","app.apk","body/Navbar.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectStorage","storage","projectFirestore","firestore","timestamp","FieldValue","serverTimestamp","useFirestore","collection","useState","docs","setDocs","useEffect","unsub","orderBy","onSnapshot","snap","documents","forEach","doc","push","data","id","ImageGrid","setselectedImg","console","log","className","map","onClick","url","src","alt","Modal","selectedImg","e","target","classList","contains","Title","useStorage","file","progress","setProgress","error","setError","setUrl","storageRef","ref","name","collectionRef","put","on","parcentage","bytesTransferred","totalBytes","err","a","getDownloadURL","createdAt","add","ProgressBar","setFile","style","width","Upload","types","type","onChange","selected","files","includes","Navbar","download","href","apk","icon","faCartArrowDown","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2NAaEA,IAASC,cATU,CACjBC,OAAQ,0CACRC,WAAY,wCACZC,UAAW,wBACXC,cAAe,oCACfC,kBAAmB,gBACnBC,MAAO,+CAKT,IAAMC,EAAiBR,IAASS,UAC1BC,EAAmBV,IAASW,YAC5BC,EAAYZ,IAASW,UAAUE,WAAWC,gBCGnCC,EAjBM,SAACC,GAAgB,IAAD,EACTC,mBAAS,IADA,mBAC1BC,EAD0B,KACpBC,EADoB,KAejC,OAZAC,qBAAU,WACN,IAAMC,EAAQX,EAAiBM,WAAWA,GACrCM,QAAQ,YAAa,QACrBC,YAAW,SAACC,GACT,IAAIC,EAAY,GAChBD,EAAKE,SAAQ,SAAAC,GACTF,EAAUG,KAAV,2BAAmBD,EAAIE,QAAvB,IAA+BC,GAAIH,EAAIG,SAE3CX,EAAQM,MAEhB,OAAO,kBAAMJ,OACd,CAACL,IACG,CAACE,SCoBGa,EAhCG,SAAC,GAAsB,IAArBC,EAAoB,EAApBA,eAETd,EAAQH,EAAa,UAArBG,KAWP,OAVAe,QAAQC,IAAIhB,GAWR,qBAAKiB,UAAU,WAAf,SACKjB,GAAQA,EAAKkB,KAAI,SAAAT,GAAG,OACjB,sBAAKQ,UAAU,WAAf,UACI,qBAAKE,QAAS,kBAAML,EAAeL,EAAIW,MAAMC,IAAKZ,EAAIW,IAAKE,IAAI,iBAC/D,yBAF2Bb,EAAIG,UCRpCW,EAZD,SAAC,GAAmC,IAAlCC,EAAiC,EAAjCA,YAAaV,EAAoB,EAApBA,eAMzB,OACI,qBAAKG,UAAU,WAAWE,QANV,SAACM,GACdA,EAAEC,OAAOC,UAAUC,SAAS,aAC3Bd,EAAe,OAInB,SACI,qBAAKO,IAAKG,EAAaF,IAAI,oBCAxBO,MARf,WACI,OACI,sBAAKZ,UAAU,QAAf,UACI,2DACA,2F,yBCsBGa,EAzBI,SAACC,GAAU,IAAD,EACOhC,mBAAS,GADhB,mBAClBiC,EADkB,KACRC,EADQ,OAEClC,mBAAS,MAFV,mBAElBmC,EAFkB,KAEXC,EAFW,OAGHpC,mBAAS,MAHN,mBAGlBqB,EAHkB,KAGbgB,EAHa,KAuBzB,OAlBAlC,qBAAU,WACN,IAAMmC,EAAa/C,EAAegD,IAAIP,EAAKQ,MACrCC,EAAgBhD,EAAiBM,WAAW,UAGlDuC,EAAWI,IAAIV,GAAMW,GAAG,iBAAiB,SAACpC,GACtC,IAAIqC,EAAcrC,EAAKsC,iBAAmBtC,EAAKuC,WAAc,IAC7DZ,EAAYU,MACb,SAACG,GACAX,EAASW,KAJb,sBAKG,8BAAAC,EAAA,sEACmBV,EAAWW,iBAD9B,OACO5B,EADP,OAEO6B,EAAYvD,IAClB8C,EAAcU,IAAI,CAAC9B,MAAK6B,cACxBb,EAAOhB,GAJR,8CAMJ,CAACW,IAEG,CAAEC,WAAUZ,MAAKc,UCVbiB,EAbK,SAAC,GAAoB,IAAnBpB,EAAkB,EAAlBA,KAAMqB,EAAY,EAAZA,QAAY,EACZtB,EAAWC,GAA5BX,EAD6B,EAC7BA,IAAKY,EADwB,EACxBA,SAQZ,OANA9B,qBAAU,WACHkB,GACCgC,EAAQ,QAEb,CAAChC,EAAKgC,IAGL,qBAAKnC,UAAU,eAAeoC,MAAO,CAAEC,MAAOtB,EAAU,QCoBjDuB,MA9Bf,WAAkB,IAAD,EACWxD,mBAAS,MADpB,mBACNgC,EADM,KACAqB,EADA,OAEarD,mBAAS,MAFtB,mBAENmC,EAFM,KAECC,EAFD,KAIPqB,EAAQ,CAAC,YAAa,cAY5B,OACI,iCACI,kCACI,uBAAOC,KAAK,OAAOC,SAbT,SAACjC,GACnB,IAAIkC,EAAWlC,EAAEC,OAAOkC,MAAM,GAC3BD,GAAYH,EAAMK,SAASF,EAASF,OACnCL,EAAQO,GACRxB,EAAS,MAETiB,EAAQ,MACRjB,EAAS,iDAOL,wCAEJ,sBAAKlB,UAAU,SAAf,UACKiB,GAAS,qBAAKjB,UAAU,QAAf,SAAwBiB,IACjCH,GAAQ,8BAAMA,EAAKQ,OACnBR,GAAQ,cAAC,EAAD,CAAaA,KAAQA,EAAMqB,QAAWA,W,QC5BhD,MAA0B,gC,QCkB1BU,MAbf,WACI,OACI,yBAAQ7C,UAAU,SAAlB,UACI,4CACA,qBAAKA,UAAU,MAAf,SACI,oBAAG8C,UAAQ,EAACC,KAAMC,EAAlB,sIAEI,cAAC,IAAD,CAAiBC,KAAMC,eCS5BC,MAdf,WAAgB,IAAD,EACyBrE,mBAAS,MADlC,mBACNyB,EADM,KACOV,EADP,KAGb,OACE,sBAAKG,UAAU,MAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,CAAWH,eAAkBA,IAC3BU,GAAe,cAAC,EAAD,CAAOA,YAAeA,EAAaV,eAAkBA,QCX5EuD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.c01199e2.chunk.js","sourcesContent":["import firebase from 'firebase';\nimport 'firebase/storage';\nimport 'firebase/firestore';\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyDhivUAzO1-ShTvE_28WJevFH0ANP3rV3g\",\n    authDomain: \"react-wallpaper-74d74.firebaseapp.com\",\n    projectId: \"react-wallpaper-74d74\",\n    storageBucket: \"react-wallpaper-74d74.appspot.com\",\n    messagingSenderId: \"1027156409569\",\n    appId: \"1:1027156409569:web:4ec5d1d36bbff38a5ecba0\"\n  };\n  \n  firebase.initializeApp(firebaseConfig);\n\n  const projectStorage = firebase.storage();\n  const projectFirestore = firebase.firestore();\n  const timestamp = firebase.firestore.FieldValue.serverTimestamp;\n\nexport{projectStorage, projectFirestore, timestamp};\n   ","import {useState, useEffect} from 'react';\nimport {projectFirestore} from './config'\n\nconst useFirestore = (collection) => {\n    const [docs, setDocs] = useState([]);\n\n    useEffect(()=>{\n        const unsub = projectFirestore.collection(collection)\n            .orderBy('createdAt', 'desc')\n            .onSnapshot((snap) => {\n                let documents = [];\n                snap.forEach(doc => {\n                    documents.push({...doc.data(), id: doc.id});\n                });\n                setDocs(documents);\n            });\n        return () => unsub();\n    }, [collection])\n    return {docs};\n}\nexport default useFirestore;","import React,{ useState} from 'react';\nimport useFirestore from '../firebase/useFirestore';\n// import { faHeart as fasFaHeart} from \"@fortawesome/free-solid-svg-icons\";\n// import { faHeart as farFaHeart} from \"@fortawesome/free-regular-svg-icons\";\n// import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nconst ImageGrid = ({setselectedImg}) => {\n//     const [heart, setHeart] = useState(farFaHeart);\n    const {docs} = useFirestore('images');\n    console.log(docs);\n\n    // const changeColor = (e) => {\n    //     if (heart==farFaHeart) {\n    //         setHeart(fasFaHeart);\n    //     }else{\n    //         setHeart(farFaHeart)\n    //     }\n    // }\n\n    return(\n        <div className=\"img-grid\">\n            {docs && docs.map(doc =>(\n                <div className=\"img-wrap\" key={doc.id}>\n                    <img onClick={() => setselectedImg(doc.url)} src={doc.url} alt=\"uploaded pic\"></img>\n                    <br></br>\n                    {/* <div>\n                        <FontAwesomeIcon\n                            className=\"like\" \n                            onClick={() => {\n                                changeColor();\n                            }}\n                            icon={heart} style={{color: 'red'}}/>\n                    </div> */}\n                </div>\n            ))}\n        </div>\n    )\n}\nexport default ImageGrid;","import React from 'react';\n\nconst Modal = ({selectedImg, setselectedImg}) => {\n    const handleClick = (e) => {\n        if(e.target.classList.contains('backdrop')){\n            setselectedImg(null);\n        }\n    }\n    return(\n        <div className=\"backdrop\" onClick={handleClick}>\n            <img src={selectedImg} alt=\"selected img\"></img>\n        </div>\n    )\n}\nexport default Modal;","import React from 'react';\n\nfunction Title() {\n    return(\n        <div className=\"title\">\n            <h1>Wallpaper for programmers</h1>\n            <p>Here you can download or upload any wallpaper you like</p>\n        </div>\n    )\n}\nexport default Title;","import {useState, useEffect} from 'react';\nimport {projectStorage, projectFirestore, timestamp} from './config'\n\nconst useStorage = (file) => {\n    const [progress, setProgress] = useState(0);\n    const [error, setError] = useState(null);\n    const [url, setUrl] = useState(null);\n\n    useEffect(() => {\n        const storageRef = projectStorage.ref(file.name);\n        const collectionRef = projectFirestore.collection('images');\n\n\n        storageRef.put(file).on('state_changed', (snap) => {\n            let parcentage = (snap.bytesTransferred / snap.totalBytes) * 100;\n            setProgress(parcentage);\n        }, (err) => {\n            setError(err);\n        }, async() => {\n            const url = await storageRef.getDownloadURL();\n            const createdAt = timestamp();\n            collectionRef.add({url, createdAt});\n            setUrl(url);\n        })\n    }, [file]);\n\n    return { progress, url, error }\n}\nexport default useStorage;","import React, { useEffect } from 'react';\nimport useStorage from '../firebase/useStorage';\n\nconst ProgressBar = ({file, setFile}) =>{\n    const {url, progress} = useStorage(file);\n    \n    useEffect(() => {\n        if(url){\n            setFile(null);\n        }\n    }, [url, setFile])\n\n    return(\n        <div className=\"progress-bar\" style={{ width: progress +'%'}}></div>\n    )\n}\nexport default ProgressBar;","import React, { useState } from 'react';\nimport ProgressBar from './ProgressBar';\n\nfunction Upload(){\n    const [file, setFile] = useState(null);\n    const [error, setError] = useState(null);\n\n    const types = [\"image/png\", \"image/jpeg\"];\n\n    const changeHandler = (e) =>{\n        let selected = e.target.files[0];\n        if(selected && types.includes(selected.type)){\n            setFile(selected);\n            setError(\"\");\n        }else{\n            setFile(null);\n            setError('Please select an image file (png or jpeg)');\n        }\n    }\n    return(\n        <form>\n            <label>\n                <input type=\"file\" onChange={changeHandler}></input>\n                <span>+</span>\n            </label>\n            <div className=\"output\">\n                {error && <div className=\"error\">{error}</div>}\n                {file && <div>{file.name}</div>}\n                {file && <ProgressBar file = {file} setFile = {setFile}/>}\n            </div>\n        </form>\n    )\n}\nexport default Upload;","export default __webpack_public_path__ + \"static/media/app.60bd6c94.apk\";","import React from 'react';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport apk from '../app.apk';\nimport { faCartArrowDown } from '@fortawesome/free-solid-svg-icons'\n\nfunction Navbar() {\n    return(\n        <header className=\"navbar\">\n            <h1>Wallpapers</h1>\n            <div className=\"apk\">\n                <a download href={apk}>\n                    Установить приложение\n                    <FontAwesomeIcon icon={faCartArrowDown} />\n                    </a>\n            </div>\n        </header>\n    )\n}\nexport default Navbar;","import React, { useState } from 'react';\nimport ImageGrid from './body/ImageGrid';\nimport Modal from './body/Modal';\nimport Title from './body/Title';\nimport Upload from './body/Upload';\nimport Navbar from './body/Navbar';\n\nfunction App() {\n  const [selectedImg, setselectedImg] = useState(null);\n  \n  return (\n    <div className=\"App\">\n      <Navbar/>\n      <Title/>\n      <Upload/>\n      <ImageGrid setselectedImg = {setselectedImg}/>\n      { selectedImg && <Modal selectedImg = {selectedImg} setselectedImg = {setselectedImg}/>}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}