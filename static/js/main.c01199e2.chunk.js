(this.webpackJsonpwallpaper=this.webpackJsonpwallpaper||[]).push([[0],{30:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var c=a(3),r=a(7),s=a.n(r),n=a(21),l=a.n(n),i=(a(30),a(10)),j=a(18),o=a(14);a(34),a(35);o.a.initializeApp({apiKey:"AIzaSyDhivUAzO1-ShTvE_28WJevFH0ANP3rV3g",authDomain:"react-wallpaper-74d74.firebaseapp.com",projectId:"react-wallpaper-74d74",storageBucket:"react-wallpaper-74d74.appspot.com",messagingSenderId:"1027156409569",appId:"1:1027156409569:web:4ec5d1d36bbff38a5ecba0"});var d=o.a.storage(),u=o.a.firestore(),p=o.a.firestore.FieldValue.serverTimestamp,b=function(e){var t=Object(r.useState)([]),a=Object(i.a)(t,2),c=a[0],s=a[1];return Object(r.useEffect)((function(){var t=u.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(j.a)(Object(j.a)({},e.data()),{},{id:e.id}))})),s(t)}));return function(){return t()}}),[e]),{docs:c}},O=function(e){var t=e.setselectedImg,a=b("images").docs;return console.log(a),Object(c.jsx)("div",{className:"img-grid",children:a&&a.map((function(e){return Object(c.jsxs)("div",{className:"img-wrap",children:[Object(c.jsx)("img",{onClick:function(){return t(e.url)},src:e.url,alt:"uploaded pic"}),Object(c.jsx)("br",{})]},e.id)}))})},f=function(e){var t=e.selectedImg,a=e.setselectedImg;return Object(c.jsx)("div",{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&a(null)},children:Object(c.jsx)("img",{src:t,alt:"selected img"})})};var m=function(){return Object(c.jsxs)("div",{className:"title",children:[Object(c.jsx)("h1",{children:"Wallpaper for programmers"}),Object(c.jsx)("p",{children:"Here you can download or upload any wallpaper you like"})]})},g=a(17),h=a.n(g),v=a(22),x=function(e){var t=Object(r.useState)(0),a=Object(i.a)(t,2),c=a[0],s=a[1],n=Object(r.useState)(null),l=Object(i.a)(n,2),j=l[0],o=l[1],b=Object(r.useState)(null),O=Object(i.a)(b,2),f=O[0],m=O[1];return Object(r.useEffect)((function(){var t=d.ref(e.name),a=u.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;s(t)}),(function(e){o(e)}),Object(v.a)(h.a.mark((function e(){var c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:c=e.sent,r=p(),a.add({url:c,createdAt:r}),m(c);case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:c,url:f,error:j}},w=function(e){var t=e.file,a=e.setFile,s=x(t),n=s.url,l=s.progress;return Object(r.useEffect)((function(){n&&a(null)}),[n,a]),Object(c.jsx)("div",{className:"progress-bar",style:{width:l+"%"}})};var y=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),a=t[0],s=t[1],n=Object(r.useState)(null),l=Object(i.a)(n,2),j=l[0],o=l[1],d=["image/png","image/jpeg"];return Object(c.jsxs)("form",{children:[Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&d.includes(t.type)?(s(t),o("")):(s(null),o("Please select an image file (png or jpeg)"))}}),Object(c.jsx)("span",{children:"+"})]}),Object(c.jsxs)("div",{className:"output",children:[j&&Object(c.jsx)("div",{className:"error",children:j}),a&&Object(c.jsx)("div",{children:a.name}),a&&Object(c.jsx)(w,{file:a,setFile:s})]})]})},S=a(23),k=a.p+"static/media/app.60bd6c94.apk",I=a(24);var N=function(){return Object(c.jsxs)("header",{className:"navbar",children:[Object(c.jsx)("h1",{children:"Wallpapers"}),Object(c.jsx)("div",{className:"apk",children:Object(c.jsxs)("a",{download:!0,href:k,children:["\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435",Object(c.jsx)(S.a,{icon:I.a})]})})]})};var A=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),a=t[0],s=t[1];return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(N,{}),Object(c.jsx)(m,{}),Object(c.jsx)(y,{}),Object(c.jsx)(O,{setselectedImg:s}),a&&Object(c.jsx)(f,{selectedImg:a,setselectedImg:s})]})};l.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(A,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.c01199e2.chunk.js.map